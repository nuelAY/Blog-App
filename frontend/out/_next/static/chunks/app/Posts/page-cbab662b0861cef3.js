(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2],{285:(e,t,a)=>{"use strict";a.d(t,{$:()=>n});var r=a(5155);a(2115);var l=a(4624),s=a(2085),o=a(9434);let i=(0,s.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function n(e){let{className:t,variant:a,size:s,asChild:n=!1,...d}=e,c=n?l.DX:"button";return(0,r.jsx)(c,{"data-slot":"button",className:(0,o.cn)(i({variant:a,size:s,className:t})),...d})}},2017:(e,t,a)=>{"use strict";a.d(t,{G:()=>s,j:()=>l});var r=a(4540);let l=r.wA,s=r.d4},2085:(e,t,a)=>{"use strict";a.d(t,{F:()=>o});var r=a(2596);let l=e=>"boolean"==typeof e?`${e}`:0===e?"0":e,s=r.$,o=(e,t)=>a=>{var r;if((null==t?void 0:t.variants)==null)return s(e,null==a?void 0:a.class,null==a?void 0:a.className);let{variants:o,defaultVariants:i}=t,n=Object.keys(o).map(e=>{let t=null==a?void 0:a[e],r=null==i?void 0:i[e];if(null===t)return null;let s=l(t)||l(r);return o[e][s]}),d=a&&Object.entries(a).reduce((e,t)=>{let[a,r]=t;return void 0===r||(e[a]=r),e},{});return s(e,n,null==t||null==(r=t.compoundVariants)?void 0:r.reduce((e,t)=>{let{class:a,className:r,...l}=t;return Object.entries(l).every(e=>{let[t,a]=e;return Array.isArray(a)?a.includes({...i,...d}[t]):({...i,...d})[t]===a})?[...e,a,r]:e},[]),null==a?void 0:a.class,null==a?void 0:a.className)}},2523:(e,t,a)=>{"use strict";a.d(t,{p:()=>s});var r=a(5155);a(2115);var l=a(9434);function s(e){let{className:t,type:a,...s}=e;return(0,r.jsx)("input",{type:a,"data-slot":"input",className:(0,l.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",t),...s})}},4100:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>y});var r=a(5155),l=a(2115),s=a(6408),o=a(2017),i=a(5095),n=a(6695),d=a(285),c=a(2523),u=a(8795),h=a(6766),g=a(760),m=a(4416);function x(e){let{isOpen:t,onClose:a,post:l}=e;return t&&l?(0,r.jsx)(g.N,{children:(0,r.jsx)(s.P.div,{className:"fixed inset-0 bg-black/60 flex items-center justify-center z-50",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:a,children:(0,r.jsxs)(s.P.div,{className:"bg-gray-300 rounded-xl max-w-2xl w-full overflow-hidden shadow-2xl",initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},transition:{duration:.3},onClick:e=>e.stopPropagation(),children:[(0,r.jsxs)("div",{className:"relative h-60 w-full",children:[(0,r.jsx)(h.default,{src:l.image||"/placeholder.jpg",alt:l.title,fill:!0,objectFit:"cover",className:"rounded-t-xl"}),(0,r.jsx)("button",{onClick:a,className:"absolute top-3 right-3 bg-black/60 rounded-full p-1 text-white",children:(0,r.jsx)(m.A,{size:20})})]}),(0,r.jsxs)("div",{className:"p-6 text-gray-900",children:[(0,r.jsx)("h2",{className:"text-2xl font-bold mb-2",children:l.title}),(0,r.jsxs)("p",{className:"text-sm text-gray-500 mb-1",children:["Category: ",l.category]}),(0,r.jsxs)("p",{className:"text-sm text-gray-500 mb-4",children:["By ",l.author.name]}),(0,r.jsx)("p",{className:"text-base leading-relaxed",children:"This is a mock post detail. You can later replace this with content fetched from the backend. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Vivamus lacinia odio vitae vestibulum. Pellentesque habitant morbi tristique senectus et netus."})]})]})})}):null}var p=a(8543);let f=["All","Technology","Lifestyle","Education","Business"],b=["Latest","Popular","Trending"],v=[{_id:"mock1",title:"The Future of React Server Components",content:"Content for the future of React server components",image:"/images/CODE.jpg",author:"Alice Johnson",category:"Technology"},{_id:"mock2",title:"How to Stay Productive as a Developer",content:"Content for the future of React server components",image:"/images/BOY.jpg",author:"John Doe",category:"Lifestyle"},{_id:"mock3",title:"The Rise of AI in the Education Sector",content:"Content for the future of React server components",image:"/images/AI.jpg",author:"Sophia Smith",category:"Education"},{_id:"mock4",title:"Building a Startup from Scratch",content:"Content for the future of React server components",image:"/images/START-UP.jpg",author:"Michael Lee",category:"Business"}];function y(){let e=(0,o.j)(),{blogs:t,loading:a,error:g}=(0,o.G)(e=>e.blogs),{user:m}=(0,o.G)(e=>e.auth),[y,j]=(0,l.useState)(""),[w,N]=(0,l.useState)("All"),[k,C]=(0,l.useState)("Latest"),[A,P]=(0,l.useState)(null);(0,l.useEffect)(()=>{e((0,i.$y)())},[e]);let S=[...v,...t].filter(e=>{let t=e.title.toLowerCase().includes(y.toLowerCase()),a="All"===w||e.category===w;return t&&a}),z=async(t,a)=>{if(t.stopPropagation(),a.startsWith("mock"))return void alert("Mock posts can't be deleted.");if(confirm("Are you sure you want to delete this post?")){let t=await e((0,i.cc)(a));i.cc.fulfilled.match(t)?p.oR.success("Blog deleted successfully"):p.oR.error(t.payload)}};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(u.A,{}),(0,r.jsxs)("div",{className:"min-h-screen bg-gradient-to-r from-indigo-500 via-purple-500 to-pink-500 text-white",children:[(0,r.jsxs)(s.P.div,{initial:{opacity:0,y:-30},animate:{opacity:1,y:0},transition:{duration:.6},className:"max-w-6xl mx-auto px-6 py-10",children:[(0,r.jsxs)("div",{className:"mb-8 mt-20",children:[(0,r.jsxs)("h1",{className:"text-4xl font-bold mb-2 text-gray-900",children:["Welcome, ",(null==m?void 0:m.name)||"Guest"," \uD83D\uDC4B"]}),(0,r.jsx)("p",{className:"text-lg text-gray-700 font-bold",children:"Explore insightful posts shared by the community."})]}),(0,r.jsxs)("div",{className:"flex flex-col md:flex-row gap-4 items-center mb-6",children:[(0,r.jsx)(c.p,{placeholder:"Search posts...",value:y,onChange:e=>j(e.target.value),className:"w-full md:w-1/2 bg-gray-300 text-black"}),(0,r.jsx)("select",{value:k,onChange:e=>C(e.target.value),className:"bg-gray-300 text-black px-5 py-2 rounded-md text-left",children:b.map(e=>(0,r.jsx)("option",{children:e},e))})]}),(0,r.jsx)("div",{className:"flex flex-wrap gap-3 mb-8",children:f.map(e=>(0,r.jsx)(d.$,{variant:w===e?"secondary":"outline",onClick:()=>N(e),className:"bg-gray-500 text-white border-white",children:e},e))}),a&&(0,r.jsx)("p",{className:"text-gray-900 font-semibold",children:"Loading posts..."}),g&&(0,r.jsx)("p",{className:"text-red-600 font-semibold",children:g}),(0,r.jsx)("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:S.length>0?S.map((e,t)=>{var a,l;return(0,r.jsx)(s.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1*t},onClick:()=>P({...e,author:"string"==typeof e.author?{name:e.author}:e.author}),className:"cursor-pointer",children:(0,r.jsxs)(n.Zp,{className:"bg-gray-300 text-gray-900 rounded-xl overflow-hidden shadow-xl hover:shadow-2xl transition",children:[(0,r.jsx)("div",{className:"relative h-40 w-full",children:(0,r.jsx)(h.default,{src:e.image||"/images/default-post.jpg",alt:e.title,layout:"fill",objectFit:"cover",className:"rounded-t-xl"})}),(0,r.jsxs)("div",{className:"p-5",children:[(0,r.jsx)("h2",{className:"text-xl font-semibold mb-1",children:e.title}),(0,r.jsxs)("p",{className:"text-sm text-indigo-600 font-medium",children:["Category: ",e.category]}),(0,r.jsxs)("div",{className:"flex items-center mt-4",children:[(0,r.jsx)("div",{className:"w-9 h-9 bg-indigo-500 rounded-full flex items-center justify-center text-white font-bold",children:"string"==typeof e.author?e.author[0]:(null==(a=e.author)?void 0:a.name)?e.author.name[0]:"A"}),(0,r.jsxs)("span",{className:"ml-2 text-sm text-gray-700",children:["By ","string"==typeof e.author?e.author:(null==(l=e.author)?void 0:l.name)||"Unknown"]})]}),(0,r.jsx)("button",{onClick:t=>z(t,e._id),className:"top-3 right-3 bg-red-600 hover:bg-red-700 text-white px-3 py-1 rounded-md text-sm font-semibold mt-5",children:"Delete"})]})]})},e._id||t)}):(0,r.jsx)("p",{className:"text-white/80 col-span-full",children:"No posts found matching your criteria."})})]}),(0,r.jsx)(x,{isOpen:!!A,onClose:()=>P(null),post:A})]})]})}},5095:(e,t,a)=>{"use strict";a.d(t,{$5:()=>i,$y:()=>s,Ay:()=>c,cc:()=>d});var r=a(1990),l=a(3464);let s=(0,r.zD)("blogs/fetchAll",async(e,t)=>{try{return(await l.A.get("http://localhost:5000/api/blogs")).data}catch(e){var a,r;return t.rejectWithValue((null==(r=e.response)||null==(a=r.data)?void 0:a.message)||"Failed to fetch blogs")}}),o=(0,r.zD)("blogs/fetchById",async(e,t)=>{try{return(await l.A.get("http://localhost:5000/api/blogs/".concat(e))).data}catch(e){var a,r;return t.rejectWithValue((null==(r=e.response)||null==(a=r.data)?void 0:a.message)||"Failed to fetch blog")}}),i=(0,r.zD)("blogs/create",async(e,t)=>{var a,r,s;try{let r=null==(a=t.getState().auth.user)?void 0:a.token;console.log("Token being sent:",r);let s=await l.A.post("http://localhost:5000/api/blogs",e,{headers:{Authorization:"Bearer ".concat(r),"Content-Type":"multipart/form-data"}});return console.log("response:",s),s.data}catch(e){return t.rejectWithValue((null==(s=e.response)||null==(r=s.data)?void 0:r.message)||"Failed to create blog")}}),n=(0,r.zD)("blogs/update",async(e,t)=>{var a,r,s;let{id:o,data:i}=e;try{let e=null==(a=t.getState().auth.user)?void 0:a.token;return(await l.A.put("http://localhost:5000/api/blogs/".concat(o),i,{headers:{Authorization:"Bearer ".concat(e)}})).data}catch(e){return t.rejectWithValue((null==(s=e.response)||null==(r=s.data)?void 0:r.message)||"Failed to update blog")}}),d=(0,r.zD)("blogs/delete",async(e,t)=>{var a,r,s;try{let r=null==(a=t.getState().auth.user)?void 0:a.token;if(!r)return t.rejectWithValue("No token found. Please log in again.");return await l.A.delete("http://localhost:5000/api/blogs/".concat(e),{headers:{Authorization:"Bearer ".concat(r)}}),e}catch(e){return t.rejectWithValue((null==(s=e.response)||null==(r=s.data)?void 0:r.message)||"Failed to delete blog")}}),c=(0,r.Z0)({name:"blogs",initialState:{blogs:[],selectedBlog:null,loading:!1,error:null,token:null},reducers:{},extraReducers:e=>{e.addCase(s.pending,e=>{e.loading=!0,e.error=null}).addCase(s.fulfilled,(e,t)=>{e.loading=!1,e.blogs=t.payload}).addCase(s.rejected,(e,t)=>{e.loading=!1,e.error=t.payload}).addCase(o.pending,e=>{e.loading=!0,e.error=null}).addCase(o.fulfilled,(e,t)=>{e.loading=!1,e.selectedBlog=t.payload}).addCase(o.rejected,(e,t)=>{e.loading=!1,e.error=t.payload}).addCase(i.pending,e=>{e.loading=!0,e.error=null}).addCase(i.fulfilled,(e,t)=>{console.log("action:",t),e.loading=!1,e.blogs.unshift(t.payload),e.token=t.payload.token}).addCase(i.rejected,(e,t)=>{e.loading=!1,e.error=t.payload}).addCase(n.fulfilled,(e,t)=>{let a=e.blogs.findIndex(e=>e._id===t.payload._id);-1!==a&&(e.blogs[a]=t.payload)}).addCase(d.fulfilled,(e,t)=>{e.blogs=e.blogs.filter(e=>e._id!==t.payload)})}}).reducer},5951:(e,t,a)=>{Promise.resolve().then(a.bind(a,4100))},6695:(e,t,a)=>{"use strict";a.d(t,{Wu:()=>o,Zp:()=>s});var r=a(5155);a(2115);var l=a(9434);function s(e){let{className:t,...a}=e;return(0,r.jsx)("div",{"data-slot":"card",className:(0,l.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",t),...a})}function o(e){let{className:t,...a}=e;return(0,r.jsx)("div",{"data-slot":"card-content",className:(0,l.cn)("px-6",t),...a})}},8795:(e,t,a)=>{"use strict";a.d(t,{A:()=>h});var r=a(5155),l=a(6874),s=a.n(l),o=a(2115),i=a(6408),n=a(760),d=a(6766),c=a(4416),u=a(4783);function h(){let[e,t]=(0,o.useState)(!1),a=()=>{localStorage.removeItem("token"),t(!1),window.location.href="/"};return(0,r.jsxs)(i.P.nav,{initial:{y:-30,opacity:0},animate:{y:0,opacity:1},transition:{duration:.6},className:"fixed top-4 left-1/2 -translate-x-1/2 z-50 w-[95%] md:w-[90%] lg:w-[80%] bg-white/60 backdrop-blur-xl border border-white/30 rounded-2xl shadow-xl px-6 py-3 flex items-center justify-between",children:[(0,r.jsx)(s(),{href:"/",children:(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)(d.default,{src:"/images/Logo.jpg",alt:"Logo",width:60,height:60,className:"rounded-full"}),(0,r.jsx)("h1",{className:"text-xl font-bold text-gray-900 cursor-pointer",children:"BLOG"})]})}),(0,r.jsxs)("div",{className:"hidden md:flex items-center gap-6",children:[(0,r.jsx)(s(),{href:"/Posts",className:"text-gray-700 hover:text-indigo-600 font-medium",children:"Posts"}),(0,r.jsx)(s(),{href:"/CreatePosts",className:"text-gray-700 hover:text-indigo-600 font-medium",children:"Create Post"}),(0,r.jsx)(s(),{href:"/About",className:"text-gray-700 hover:text-indigo-600 font-medium",children:"About"}),(0,r.jsx)("button",{onClick:a,className:"text-red-600 border border-red-600 hover:bg-red-600 hover:text-white font-medium px-4 py-1.5 rounded-lg transition-colors duration-200",children:"Logout"})]}),(0,r.jsx)("button",{onClick:()=>t(!e),className:"md:hidden text-gray-800",children:e?(0,r.jsx)(c.A,{size:24}):(0,r.jsx)(u.A,{size:24})}),(0,r.jsx)(n.N,{children:e&&(0,r.jsxs)(i.P.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"absolute top-16 left-0 w-full bg-white/70 backdrop-blur-xl border border-white/20 rounded-xl shadow-md px-6 py-4 flex flex-col gap-4 md:hidden",children:[(0,r.jsx)(s(),{href:"/Posts",onClick:()=>t(!1),className:"text-gray-800 font-medium",children:"Posts"}),(0,r.jsx)(s(),{href:"/CreatePosts",onClick:()=>t(!1),className:"text-gray-800 font-medium",children:"Create Post"}),(0,r.jsx)(s(),{href:"/About",onClick:()=>t(!1),className:"text-gray-800 font-medium",children:"About"}),(0,r.jsx)("button",{onClick:a,className:"text-red-600 border border-red-600 hover:bg-red-600 hover:text-white font-medium px-4 py-1.5 rounded-lg transition-colors duration-200",children:"Logout"})]})})]})}},9434:(e,t,a)=>{"use strict";a.d(t,{cn:()=>s});var r=a(2596),l=a(9688);function s(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,l.QP)((0,r.$)(t))}}},e=>{var t=t=>e(e.s=t);e.O(0,[408,635,460,162,464,299,543,441,684,358],()=>t(5951)),_N_E=e.O()}]);